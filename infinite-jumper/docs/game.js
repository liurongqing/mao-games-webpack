!function(r){var o={};function n(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=r,n.c=o,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,r){"use strict";r.r(e);var o={};function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(i){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,r,o,n=u(i);return e=c?(t=u(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),r=this,!(o=e)||"object"!==a(o)&&"function"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):o}}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.r(o),r.d(o,"MainScene",function(){return b}),r.d(o,"GameOverScene",function(){return w});var i=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}(c,Phaser.Physics.Arcade.Sprite);var i=s(c);function c(t,e,r,o){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,t,e,r,o)).setScale(.5),n}return c}();function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(i){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,r,o,n=h(i);return e=c?(t=h(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),r=this,!(o=e)||"object"!==l(o)&&"function"!=typeof o?p(r):o}}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var b=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(n,Phaser.Scene);var t,e,r,o=y(n);function n(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),d(p(t=o.call(this,"MainScene")),"player",void 0),d(p(t),"platforms",void 0),d(p(t),"cursors",void 0),d(p(t),"carrots",void 0),d(p(t),"carrotsCollected",void 0),d(p(t),"carrotsCollectedText",void 0),t}return t=n,(e=[{key:"init",value:function(){this.carrotsCollected=0}},{key:"preload",value:function(){this.load.image("background","assets/bg_layer1.png"),this.load.image("platform","assets/ground_grass.png"),this.load.image("bunny-stand","assets/bunny1_stand.png"),this.load.image("bunny-jump","assets/bunny1_jump.png"),this.load.image("carrot","assets/carrot.png"),this.load.audio("jump","assets/sfx/phaseJump1.wav"),this.cursors=this.input.keyboard.createCursorKeys()}},{key:"create",value:function(){this.add.image(240,320,"background").setScrollFactor(1,0),this.platforms=this.physics.add.staticGroup();for(var t=0;t<5;t++){var e=Phaser.Math.Between(80,400),r=150*t,o=this.platforms.create(e,r,"platform");o.setScale(.5),o.body.updateFromGameObject()}this.player=this.physics.add.sprite(240,320,"bunny-stand").setScale(.5),this.carrots=this.physics.add.group({classType:i}),this.carrots.get(240,320,"carrot"),this.player.body.checkCollision.up=!1,this.player.body.checkCollision.left=!1,this.player.body.checkCollision.right=!1,this.physics.add.collider(this.platforms,this.player),this.physics.add.collider(this.platforms,this.carrots),this.physics.add.overlap(this.player,this.carrots,this.handleCollectCarrot,void 0,this),this.cameras.main.startFollow(this.player),this.cameras.main.setDeadzone(1.5*this.scale.width);this.carrotsCollectedText=this.add.text(240,10,"Carrots: 0",{color:"#000",fontSize:24}).setScrollFactor(0).setOrigin(.5,0)}},{key:"update",value:function(){var t,e,o=this;this.player&&(this.platforms.children.iterate(function(t){var e=t,r=o.cameras.main.scrollY;e.y>=r+700&&(e.y=r-Phaser.Math.Between(50,100),e.body.updateFromGameObject(),o.addCarrotAbove(e))}),(t=this.player.body.touching.down)&&(this.player.setVelocityY(-300),this.player.setTexture("bunny-jump"),this.sound.play("jump")),0<this.player.body.velocity.y&&"bunny-stand"!==this.player.texture.key&&this.player.setTexture("bunny-stand"),this.cursors.left.isDown&&!t?this.player.setVelocityX(-200):this.cursors.right.isDown&&!t?this.player.setVelocityX(200):this.player.setVelocityX(0),this.horizontalWrap(this.player),e=this.findBottomMostPlatform(),this.player.y>e.y+200&&this.scene.start("GameOverScene"))}},{key:"horizontalWrap",value:function(t){var e=.5*t.displayWidth,r=this.scale.width;t.x<-e?t.x=r+e:t.x>r+e&&(t.x=-e)}},{key:"addCarrotAbove",value:function(t){var e=t.y-t.displayHeight,r=this.carrots.get(t.x,e,"carrot");return r.setActive(!0),r.setVisible(!0),this.add.existing(r),r.body.setSize(r.width,r.height),this.physics.world.enable(r),r}},{key:"handleCollectCarrot",value:function(t,e){this.carrots.killAndHide(e),this.physics.world.disableBody(e.body),this.carrotsCollected++;var r="Carrots: ".concat(this.carrotsCollected);this.carrotsCollectedText.setText(r)}},{key:"findBottomMostPlatform",value:function(){for(var t=this.platforms.getChildren(),e=t[0],r=1;r<t.length;++r){var o=t[r];o.y<e.y||(e=o)}return e}}])&&c(t.prototype,e),r&&c(t,r),n}();function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(i){var c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e,r,o,n=S(i);return e=c?(t=S(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),r=this,!(o=e)||"object"!==m(o)&&"function"!=typeof o?function(t){if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):o}}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=function(){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(n,Phaser.Scene);var t,e,r,o=O(n);function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),o.call(this,"GameOverScene")}return t=n,(e=[{key:"create",value:function(){var t=this,e=this.scale.width,r=this.scale.height;this.add.text(.5*e,.5*r,"Game Over",{fontSize:48}).setOrigin(.5),this.input.keyboard.once("keydown_SPACE",function(){t.scene.start("MainScene")})}}])&&v(t.prototype,e),r&&v(t,r),n}(),P=[];for(var _ in o)P.push(o[_]);var j={type:Phaser.AUTO,scale:{mode:Phaser.Scale.NONE,autoCenter:Phaser.Scale.CENTER_BOTH,parent:"root",width:480,height:640},physics:{default:"arcade",arcade:{gravity:{y:200},debug:!0}},scene:P};window.game=new Phaser.Game(j)}]);